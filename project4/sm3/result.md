# SM3 三个版本性能对比

| 版本名称       | 输入数据大小       | 运行时间（秒） | 吞吐率（MB/s）   |
| -------------- | ------------------ | -------------- | ---------------- |
| sm3_basic      | 100 MB             | 2.795          | 35.78            |
| sm3_v2 (opt_simple) | 100 MB         | 1.505          | 66.43            |
| opt_simd (AVX2 SIMD) | 100 MB          | 0.423          | 236.62           |

## 简要分析

- **基础版本 (sm3_basic)** 作为最初的纯标量实现，性能相对较低，吞吐率约为 35.78 MB/s。
- **优化版本 (sm3_v2)** 经过简单的代码优化和结构改进，性能提升显著，达到约 66.43 MB/s，几乎是基础版本的两倍。
- **SIMD 并行版本 (opt_simd)** 利用 AVX2 指令集进行消息批处理并行，性能大幅提升，吞吐率达到 236.62 MB/s，是基础版本的约 6.6 倍，优化版本的约 3.6 倍。
- 由结果可见，SIMD 并行对密码哈希算法的加速效果显著，适合对大量短消息或批量消息的高效处理。
- 未来可进一步扩展 SIMD 路径支持更长消息，或利用多线程并行，进一步提升性能。

---
<img width="745" height="208" alt="屏幕截图 2025-08-13 003120" src="https://github.com/user-attachments/assets/e5675b9b-9789-4875-8596-e65367775eee" />

*测试环境：虚拟机，支持 AVX2，gcc -O3 编译，测试输入均为固定大小随机数据。*
